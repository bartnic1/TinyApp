<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      table {
        border-collapse: collapse;
        border-spacing: 0px;
      }
      table, th, td {
        padding: 5px;
        border: 1px solid black;
      }
      .margin{
        margin: 10px;
      }
      .center-text {
        text-align: center;
        margin: 80px 0 0 0;
      }
      .center-reduced-margin{
        text-align: center;
        margin: 40px 0 0 0;
      }
      .center-no-margin{
        text-align: center;
      }
    </style>
  </head>
  <body>
    <% include partials/_header %>
    <div class="center-no-margin">
      <span class="margin">
        <b>Generated:</b> <%=date%>
      </span>
      <span class="margin">
        <b>Uses:</b> <%=uses%>
      </span>
      <span class="margin">
        <b>Unique Uses:</b> <%=uniqueUses%>
      </span>
    </div>
    <div class="center-reduced-margin">
      <h2>Tiny URL: <b><%=short%></b></h2>
      <form method="POST" action="/urls/<%=short%>?_method=PUT">
        <input type="text" value="<%=long%>" name="longURL">
        <input type="submit" value="Update">
      </form>
    </div>
    <div class="center-reduced-margin">
      <form method="GET" action="/urls">
        <input type="submit" value="Back to URL List">
      </form>
    </div>
    <div class="margin">
      <%if(visitLog){%>
      <table class="center-text">
      <tr>
        <th>Generated UserID</th>
        <th>Date Accessed</th>
      </tr>
      <%for(var log of visitLog){%>
      <tr>
        <td>
          <%=log[0]%>
        </td>
        <td>
          <%=log[1]%>
        </td>
      </tr>
      <%}}%>
      </table>
    </div>
  </body>
</html>